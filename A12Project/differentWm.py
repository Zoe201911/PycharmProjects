
"""
测试屏幕上显示的所有数据
包含：电池电量，触摸滑动条，灰尘环，所有主控板的请求帧
需要接上主板和触摸滑条还有电池包
"""


import serial
import time
import random
ser = serial.Serial('/dev/tty.usbserial-AH06YBGR','115200',timeout=30)

casestring = ['F2 BB 31 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 7E',
              'F2 BB 31 00 00 00 00 01 5A 01 01 01 01 03 00 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 00 56 7E',
              'F2 BB 31 00 00 00 00 01 5A 01 01 01 01 03 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 00 56 7E',
              'F2 BB 31 00 00 00 00 01 5A 01 01 01 01 03 00 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 56 7E',
              'F2 BB 31 00 00 00 00 01 5A 01 01 01 01 01 01 01 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 56 7E',
              'F2 BB 31 01 01 01 01 01 5A 01 01 01 01 01 01 01 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 5A 7E',
              'F2 BB 31 00 00 00 00 02 5A 02 02 02 02 02 02 02 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 5E 7E',
              'F2 BB 31 00 00 00 00 02 5A 03 03 03 03 03 03 03 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 65 7E',
              'F2 BB 31 00 00 00 00 02 5A 05 03 03 03 03 03 03 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 67 7E',
              'F2 BB 31 00 00 00 00 02 5A 04 02 02 02 02 02 02 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 60 7E',
              'F2 BB 31 00 00 00 00 02 5A 04 02 02 02 02 02 02 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 03 63 7E',
              'F2 BB 31 00 00 00 00 02 5A 04 02 02 02 02 02 02 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 02 62 7E',
              'F2 BB 31 00 00 00 00 02 5A 04 02 02 02 02 02 02 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 01 61 7E'
              ]
for bp in range(1000):
    i=random.randint(0,12)
    data = bytes.fromhex(casestring[i])
    if i == 0:
       print('黑屏：')
    if i == 1:
        print('红色绿色灰尘环，正常：')
    if i == 2:
        print('红色灰尘环：')
    if i == 3:
        print('蓝色灰尘环：')
    if i == 4:
        print('全亮：')
    if i == 5:
        print('手动调速模式全亮：')
    if i == 6:
        print('电池绿灯绿色慢闪：')
    if i == 7:
        print('快闪：')
    if i == 8:
        print('电池红绿灯同亮：')
    if i == 9:
        print('电池红灯红色慢闪：')
    if i == 10:
        print('LED全亮：')
    if i == 11:
        print('触摸条测试模式：')
    if i == 12:
        print('LED测试模式：')

    print(casestring[i])

    ser.write(data)
    time.sleep(3)
ser.read()
ser.close()

# 发给屏数据
# 黑屏
# F2 BB 31 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 7E
# 红色绿色灰尘环，正常：
# F2 BB 31 00 00 00 00 01 5A 01 01 01 01 03 00 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 00 56 7E
# 红色灰尘环：
# F2 BB 31 00 00 00 00 01 5A 01 01 01 01 03 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 00 56 7E
# 蓝色灰尘环：
# F2 BB 31 00 00 00 00 01 5A 01 01 01 01 03 00 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 56 7E
# 全亮：
# F2 BB 31 00 00 00 00 01 5A 01 01 01 01 01 01 01 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 56 7E
# 手动调速模式全亮：
# F2 BB 31 01 01 01 01 01 5A 01 01 01 01 01 01 01 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 5A 7E
# 绿灯绿色慢闪：
# F2 BB 31 00 00 00 00 02 5A 02 02 02 02 02 02 02 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 5E 7E
# 快闪：
# F2 BB 31 00 00 00 00 02 5A 03 03 03 03 03 03 03 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 65 7E
# 电池红绿灯：
# F2 BB 31 00 00 00 00 02 5A 05 03 03 03 03 03 03 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 67 7E
# 红灯红色慢闪：
# F2 BB 31 00 00 00 00 02 5A 04 02 02 02 02 02 02 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 60 7E
# LED全亮：
# F2 BB 31 00 00 00 00 02 5A 04 02 02 02 02 02 02 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 03 63 7E
# 触摸条测试模式：
# F2 BB 31 00 00 00 00 02 5A 04 02 02 02 02 02 02 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 02 62 7E
# LED测试模式：
# F2 BB 31 00 00 00 00 02 5A 04 02 02 02 02 02 02 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 00 64 01 61 7E